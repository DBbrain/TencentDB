# PartⅠ 数据库基本概念

举个简单的例子，我们会把买来的食物、零食等放到冰箱里去，冰箱就是用来存放东西的地方。那么当我们有很多数据的时候，存放的数据的“冰箱”就是数据库。当然，如果用过Excel的话，就更好理解了，数据库就可以类比为Excel。

那么既然有了Excel，为什么还把数据放到数据库里呢，那当然是数据库比Excel的功能更为强大，存储能力也更强等等诸多优点。

数据库也有很多分类，大家最常听到的是“关系型数据库”，怎么理解呢？我们还是来看刚才举的冰箱的例子，比如你是和别人合租的房子，冰箱是几个人一起公用的，我们来用图表看一下这个关系：

<table>
<caption>合租表</caption>
    <tr>
        <th>编号</th>
        <th>姓名</th>
        <th>性别</th>
        <th>年龄</th>
    </tr>
    <tr>
        <td>01</td>
        <td>张三</td>
        <td>男</td>
        <td>25</td>
    </tr>
    <tr>
        <td>02</td>
        <td>李四</td>
        <td>男</td>
        <td>27</td>
    </tr>
    <tr>
        <td>03</td>
        <td>王五</td>
        <td>女</td>
        <td>30</td>
    </tr>
</table>

比如有一天这三个人一起去逛超市买了很多东西，都放在了冰箱，我们一起看一下冰箱里有什么：

<table>
<caption>购买物品表</caption>
    <tr>
        <th>购买人</th>
        <th>物品</th>
        <th>花费</th>
    </tr>
    <tr>
        <td>01</td>
        <td>菜花</td>
        <td>10</td>
    </tr>
    <tr>
        <td>01</td>
        <td>可乐</td>
        <td>20</td>
    </tr>
    <tr>
        <td>01</td>
        <td>猪肉</td>
        <td>50</td>
    </tr>
    <tr>
        <td>02</td>
        <td>雪糕</td>
        <td>20</td>
    </tr>
    <tr>
        <td>02</td>
        <td>羊肉</td>
        <td>60</td>
    </tr>
    <tr>
        <td>03</td>
        <td>芹菜</td>
        <td>12</td>
    </tr>
    <tr>
        <td>03</td>
        <td>白菜</td>
        <td>16</td>
    </tr>
</table>

同时在超市有一个价格表，我们可以清晰的看到每个物品的单价：

<table>
<caption>单价表</caption>
    <tr>
        <th>物品</th>
        <th>单价</th>
    </tr>
    <tr>
        <td>菜花</td>
        <td>4/斤</td>
    </tr>
    <tr>
        <td>可乐</td>
        <td>3/瓶</td>
    </tr>
    <tr>
        <td>猪肉</td>
        <td>28/斤</td>
    </tr>
    <tr>
        <td>雪糕</td>
        <td>2/个</td>
    </tr>
    <tr>
        <td>羊肉</td>
        <td>57/斤</td>
    </tr>
    <tr>
        <td>芹菜</td>
        <td>3.6/斤</td>
    </tr>
    <tr>
        <td>白菜</td>
        <td>1.4/斤</td>
    </tr>
</table>

如上所示我们建立了三个表，如果我想知道合租表里张三（01）都购买了哪些东西，并且这些东西的单价是多少，我会这样操作：

* 在合租表里查到张三的编号是01

* 在购买物品表里找到所有购买人列里所有行为01的物品，我们发现有菜花、可乐、猪肉三样物品

* 如果我们还想进一步查看他们的单价是多少，就在单价表里分别找到物品列中菜花、可乐、猪肉三行的单价值。

这样我们的流程就走完了，我们会发现这三张表之间是相互有关系的，在不同表中可以通过一定的值匹配到你想要的值，在数据库语言中这个叫联结，即将两个文件甚至多个文件中，指定栏位内容相同的行连接起来。

总结来看，数据库用来存储数据，关系数据库=多张表+各表的联系，主流的关系数据库有oracle、db2、sqlserver、sybase、mysql等。

最后我们来用一张表来看一下各类型数据库及其优缺点：

<table>
    <tr>
        <th>数据库类型</th>
        <th>释义</th>
        <th>优点</th>
        <th>缺点</th>
    </tr>
    <tr>
        <td>关系型数据库</td>
        <td>
            4/以行和列的形式存储，数据表直接彼此<br>
            关联协助存储。简单来说是<br>
            个二维表型+直接的联系
        </td>
        <td>
            <b>容易理解</b>：二维表的结构理解起来更为容易<br/>
            <b>使用方便</b>：可以使用通用的sql语言进行操作<br/>
            <b>便于维护</b>：丰富的完整性减低了数据冗余和数据不一致的概率
        </td>
        <td>
            •针对海量数据读写，有效率低下的问题<br/>
            •难进行横向拓展，当数据量需求变大时，需要进行迁移<br/>
            •因为涉及到多表的关联查询，复杂的数据分析和查询会导致性能较低<br/>
        </td>
    </tr>
    <tr>
        <td>非关系型数据库（NoSQL）</td>
        <td>
            与关系型相反，分布式的，块存储，就像文
            像文档、键值和图结构
        </td>
        <td>
            <b>易拓展</b>：自由添加，不像关系数据库需要查询各个表的关系<br/>
            <b>查询速度快</b>：数据存储在缓存中，查询速度远大于关系型数据库<br/>
            <b>性能高</b>：基于键值对，不需要经过SQL层的解析
         </td>
        <td>
            只适合存储简单的数据，杂的海量数<br/>
            据，不够持久
        </td>
    </tr>
</table>




